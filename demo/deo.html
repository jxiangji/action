<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script type="text/javascript">
		var str="174,176,177,178,179,180,183,189,190";
		var arr=str.split(",").sort((val)=>-1).map(val=>Number(val));
		var last=arr[0];
		var n=1;
		var res=arr.reduce((prev,val)=>{
			var _last=last;
			last=val;
			if(val==(_last+1)){
				n++;
				return prev;
			}
			else if(n===1){
				n=1;
				return prev+","+val;
			}else{
				n=1;
				return prev+"~"+_last+","+val;
			}
		});
		console.log(res);
	</script>
</body>
</html>